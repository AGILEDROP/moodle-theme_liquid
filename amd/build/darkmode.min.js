define("theme_liquid/darkmode",["core_user/repository"],(function(_repository){(()=>{const darkThemeMq=window.matchMedia("(prefers-color-scheme: dark)"),darkThemeToggle=document.querySelectorAll(".darktheme-checkbox"),setTheme=function(theme){document.documentElement.setAttribute("data-bs-theme",theme)},updateCheckboxes=function(checked){darkThemeToggle.forEach((function(checkbox){checkbox.checked=checked}))},handleCheckboxChange=function(e){const isDarkThemeEnabled=e.target.checked;setTheme(isDarkThemeEnabled?"dark":"light"),setCookie("darkThemeEnabled",isDarkThemeEnabled?"1":"0"),updateCheckboxes(isDarkThemeEnabled)};function setCookie(name,value){document.cookie="".concat(name,"=").concat(value,"; path=/; SameSite=None; Secure"),(0,_repository.setUserPreference)("theme-dark-mode","0"===value?"light":"dark")}darkThemeToggle.forEach((function(checkbox){checkbox.addEventListener("change",handleCheckboxChange)})),function(){const storedDarkThemeSetting=function(name){const parts="; ".concat(document.cookie).split("; ".concat(name,"="));if(2===parts.length)return parts.pop().split(";").shift();return null}("darkThemeEnabled");if(null===storedDarkThemeSetting)setCookie("darkThemeEnabled",darkThemeMq.matches?"1":"0"),updateCheckboxes(darkThemeMq.matches),setTheme(darkThemeMq.matches?"dark":"light");else{const isDarkTheme="1"===storedDarkThemeSetting;updateCheckboxes(isDarkTheme),setTheme(isDarkTheme?"dark":"light")}}()})()}));

//# sourceMappingURL=darkmode.min.js.map