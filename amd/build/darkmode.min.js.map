{"version":3,"file":"darkmode.min.js","sources":["../src/darkmode.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Liquid.\n *\n * @copyright  2023 Agiledrop ltd.\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const init = () => {\n  const darkThemeToggle = document.getElementById(\"darktheme-checkbox\");\n  const storedDarkThemeSetting = localStorage.getItem(\"darkThemeEnabled\");\n\n  const setTheme = (theme) => {\n    document.documentElement.setAttribute('data-theme', theme);\n  };\n\n  if (storedDarkThemeSetting === null) {\n    localStorage.setItem(\"darkThemeEnabled\", \"0\");\n    darkThemeToggle.checked = false;\n    setTheme('light');\n  } else {\n    darkThemeToggle.checked = storedDarkThemeSetting === \"1\";\n    setTheme(darkThemeToggle.checked ? 'dark' : 'light');\n  }\n\n  darkThemeToggle.addEventListener(\"change\", (e) => {\n    const isDarkThemeEnabled = e.target.checked;\n\n    setTheme(isDarkThemeEnabled ? 'dark' : 'light');\n    localStorage.setItem(\"darkThemeEnabled\", isDarkThemeEnabled ? \"1\" : \"0\");\n  });\n};\n"],"names":["darkThemeToggle","document","getElementById","storedDarkThemeSetting","localStorage","getItem","setTheme","theme","documentElement","setAttribute","setItem","checked","addEventListener","e","isDarkThemeEnabled","target"],"mappings":"0JAsBoB,WACZA,gBAAkBC,SAASC,eAAe,sBAC1CC,uBAAyBC,aAAaC,QAAQ,oBAE9CC,SAAYC,QAChBN,SAASO,gBAAgBC,aAAa,aAAcF,QAGvB,OAA3BJ,wBACFC,aAAaM,QAAQ,mBAAoB,KACzCV,gBAAgBW,SAAU,EAC1BL,SAAS,WAETN,gBAAgBW,QAAqC,MAA3BR,uBAC1BG,SAASN,gBAAgBW,QAAU,OAAS,UAG9CX,gBAAgBY,iBAAiB,UAAWC,UACpCC,mBAAqBD,EAAEE,OAAOJ,QAEpCL,SAASQ,mBAAqB,OAAS,SACvCV,aAAaM,QAAQ,mBAAoBI,mBAAqB,IAAM"}